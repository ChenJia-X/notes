# 多线程编程发展史

并发编程的三要素：原子性、可见性、有序性。必须同时满足这三点，否则程序可能运行出错。



Java内存模型如何满足并发编程三要素



多线程编程发展史是一个不断提高CPU利用率的过程，同时在这个过程面临许多新的问题，诞生了新的技术。

- 最初的计算机
  - ↓优化：CPU不用等待操作人员输入执行命令


- 批处理系统

  - ↓优化：CPU在IO阻塞时可以处理其他的任务

- 进程的诞生

  - ↓优化：对进程多任务的需求

- 线程的诞生

  - ↓问题：多线程同时访问临界资源的矛盾
    - 同步锁synchronized、Lock（原子性）
  - ↓优化：CPU提高程序运行效率
    - 指令重排序Instruction Reorder
      - ↓问题：Instruction Reorder保证了单线程时程序执行的正确性，但是多线程并发执行时可能会出错
  - ↓问题：缓存一致性问题
    - volatile，保证可见性和禁止（局部）指令重排序（有序性）
      - 问题：volatile不能保证原子性，所以操作必须满足原子性才能使程序运行正确。

  ​